<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio3</title>
    <style>
        /* Estilo de la imagen para que se vea correctamente */
        img {
            height: 10px;
            width: 10px;
            margin-left: 3px;
            cursor: pointer; /* Agrega un cursor de puntero al pasar sobre la imagen */
        }
    </style>
</head>
<body>
    <ul id="lista">
        <li>Sergio<img src="img/x.jpg" alt="x" class="borrar"></li>
        <li>Juan <img src="img/x.jpg" alt="x" class="borrar"></li>
        <li>Enrique <img src="img/x.jpg" alt="x" class="borrar"></li>
        <li>María <img src="img/x.jpg" alt="x" class="borrar"></li>
        <li>Laura <img src="img/x.jpg" alt="x" class="borrar"></li>
    </ul>
    <!-- Botón para agregar elemento a la lista -->
    <button id="btn">Agregar Elemento</button>

    <script defer>
        /* Recojo la lista y el botón */
        const lista = document.getElementById("lista");
        const btn = document.getElementById("btn");

        /* Evento para que cuando pulse en la imagen x se borre su nodo padre que sería el elemento de la lista */
        lista.addEventListener("click", function(event){
            /* event.target es para identificar que se ha clickado en el lugar correspondiente */
            if (event.target.className === "borrar") {
                event.target.parentNode.remove();
            }
        });

        /* Evento para que cuando pulse el botón me pida el nombre de la persona que quiero agregar y la agregue
        junto con la imagen de la x para poder eliminarla*/
        btn.addEventListener("click", function(event){
            /* Recojo el elemento de la lista y la imagen */
            var elemento = document.createElement("li");
            var imagen = document.createElement("img");
            /* Agrego los atributos de la imagen */
            imagen.src = "img/x.jpg";
            imagen.alt = "x";
            imagen.className = "borrar";
            /* Pregunto por la persona que quiere agregar */
            var nombre = prompt("¿Qué persona quieres agregar?");
            /* Introduzco el nombre en el elemento */
            elemento.textContent = nombre;
            /* Agrego como hijo de la lista al elemento y como hijo del elemento a la imagen */
            lista.appendChild(elemento);
            elemento.appendChild(imagen);
        })
    </script>
</body>
</html>